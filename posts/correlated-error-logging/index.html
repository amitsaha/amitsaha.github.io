<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="echo $RANDOM. Exploring Software and writing about it.">
    
    <link rel="shortcut icon" href="https://echorand.me/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <title>Correlated error logging</title>
</head>
<body><header id="banner">
    <h2><a href="https://echorand.me">Exploring Software</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/about" title="">About</a>
            </li><li>
                <a href="/posts" title="">Posts</a>
            </li><li>
                <a href="/talks" title="">Talks</a>
            </li><li>
                <a href="/writings-trainings" title="">Writings and Trainings</a>
            </li><li>
                <a href="/categories" title="">Categories</a>
            </li><li>
                <a href="/index.xml" title="">Subscribe</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>Correlated error logging</h1><time>December 12, 2019</time></header><p><em>Please note this document is currently in progress.</em> You may read this other post instead which illustrates
what I wanted to discuss in this <a href="https://filipnikolovski.com/posts/correlating-logs/">post</a> with an implementation in Go.</p>
<h2 id="introduction">Introduction</h2>
<p>In a service oriented architecture, more popular these days as a microservice oriented architecture
it&rsquo;s notoriously difficult and time consuming to find out whether a certain error observed in a particular
service may have been caused to an error in another service. Correlated error logging is a pattern that
may be implemented to help in such a scenario. I have implemented this succesfully in a HTTP and RPC
service architecture and in a pure HTTP service oriented architecture. The improvement it brings to
error tracking  and visibility is mind blowing. Let&rsquo;s see how we can go about it.</p>
<h2 id="unique-id-generation">Unique ID generation</h2>
<p>The core component of a correlated error logging architecture is an Unique ID which gets generated
for every request. Since we are working in the context of a request, this ID is referred to as the
<code>request_id</code> which is what we will refer to it henceforth. The <code>request_id</code> is usually generated at
the &ldquo;edge&rdquo; and then &ldquo;propagated down&rdquo; and &ldquo;back up&rdquo; through the different services.</p>
<p>To explain what I mean by &ldquo;edge&rdquo;, let&rsquo;s assume we have a web application whose architecture looks
as follows:</p>
</article>
<footer id="footer">
    Post managed in a <a href="https://github.com/amitsaha/echorand.me">git repo</a> | <a href="https://github.com/amitsaha/echorand.me/commit/028da604eed5681a7b843399451ae884736c5026">Last Commit on this post </a>
  | <a href="https://github.com/amitsaha/echorand.me/edit/master/content/posts/correlated-error-logging.md">Edit post</a>
    <p>
    Blog managed via <a href="https://gohugo.io/">Hugo</a> and using a modified version of the <a href="https://themes.gohugo.io/etch/">Etch</a> theme.
    </p>  
</footer>

        </main><footer id="footer">
    
</footer>
</body>
</html>
